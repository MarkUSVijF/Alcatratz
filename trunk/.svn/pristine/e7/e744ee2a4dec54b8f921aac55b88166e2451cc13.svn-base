package net.technikumwien.bic4b18_01.common.rmi;

import net.technikumwien.bic4b18_01.common.exception.ConnectionException;
import net.technikumwien.bic4b18_01.common.exception.GameException;
import java.rmi.Remote;
import java.rmi.RemoteException;
import java.util.ArrayDeque;
import java.util.HashSet;
import java.util.UUID;

public interface RMI_Client2Server extends Remote {

    //local read
    public HashSet<GameInfo> getGames(int port, int requestNr)
            throws RemoteException;

    //loacl write
    public int reservePort(UUID cUID)
            throws RemoteException, ConnectionException;//throws exception: port taken

    //global write
    public String registerClient(UUID cUID, int port)
            throws RemoteException, ConnectionException;//throws exception: port taken

    public GameInfo hostGame(int port, int requestNr, int players, String playerName)
            throws RemoteException, GameException;//throws exception: to few/many players

    public GameInfo joinGame(int port, int requestNr, long gameID, String playerName)
            throws RemoteException, GameException;//throws exception: already full, no such game, player name already used

    public void leaveGame(int port, int requestNr)
            throws RemoteException, GameException;//throws exception: already full, no such game

    public void endGame(int port, int requestNr, ArrayDeque<MoveInfo> lastMoves)
            throws RemoteException, GameException;

    public void unregisterClient(int port, int requestNr)
            throws RemoteException;
}
